$(document).on('turbolinks:load', function(){
  var stars_hints = ['Bad', 'Poor', 'Mediocre', 'Good', 'Amazing'];
  $('.rating, .rated').raty('reload');
  $('.rating').raty('set', {
    starHalf: '<%= asset_path 'star-half.png' %>',
    starOff: '<%= asset_path 'star-off.png' %>',
    starOn: '<%= asset_path 'star-on.png' %>',
    numberMax: 5,
    scoreName: 'comment[rating]',
    hints: stars_hints
  });

  $('.rated').raty('set', {
    starHalf: '<%= asset_path 'star-half.png' %>',
    starOff: '<%= asset_path 'star-off.png' %>',
    starOn: '<%= asset_path 'star-on.png' %>',
    numberMax: 5,
    readOnly: true,
    noRatedMsg: 'Not Rated Yet',
    score: $(this).data('score'),
    hints: stars_hints
  });

  function initElevateZoom(){
    $.when(
      $('.zoomContainer').remove()
    ).then(
      $('.carousel-inner .item.active img').elevateZoom({
        zoomType: 'lens',
        borderSize: 1,
        scrollZoom: true,
        lensShape: 'round'
      })
    );
  };

  $('.product-showcase .carousel').on('slid.bs.carousel', function(){
    initElevateZoom();
  });

  

  initElevateZoom();

  <%# $('.carousel-indicators li').on('click', function(){
    $('body').remove('.zoomContainer')
    initElevateZoom();
  }); %>
});